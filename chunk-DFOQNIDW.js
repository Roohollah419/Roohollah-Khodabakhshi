import{a as E}from"./chunk-2FO44TOT.js";import{$a as g,Aa as c,Ba as x,Jb as z,Kb as I,Nb as w,Oa as m,Qa as l,R as d,Va as a,W as S,Wa as n,Xa as f,_ as k,_a as v,ab as u,ga as b,ha as h,hb as r,ib as _,jb as s,kb as C,mb as y}from"./chunk-5KL356BU.js";import{a as M,b as P}from"./chunk-CWTPBX7D.js";var N=(()=>{class t{constructor(e){this.http=e,this.QURAN_DATA_PATH="assets/quran.json"}fetchAllSurahs(){return this.http.get(this.QURAN_DATA_PATH)}getSurahByIndex(e,i){return e.find(o=>o.index===i)||null}generateRandomSurahIndex(){return Math.floor(Math.random()*114)+1}formatSurahIndex(e){return e.toString().padStart(3,"0")}static{this.\u0275fac=function(i){return new(i||t)(S(E))}}static{this.\u0275prov=d({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var R=(()=>{class t{constructor(){this.STORAGE_KEY="quranRecitation"}getRecitationCounts(){let e=localStorage.getItem(this.STORAGE_KEY);return e?JSON.parse(e):{}}getRecitationCount(e){return this.getRecitationCounts()[e]||0}setRecitationCount(e,i){let o=this.getRecitationCounts();o[e]=i,localStorage.setItem(this.STORAGE_KEY,JSON.stringify(o))}incrementRecitationCount(e){let o=this.getRecitationCount(e)+1;return this.setRecitationCount(e,o),o}clearAllCounts(){localStorage.removeItem(this.STORAGE_KEY)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=d({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function D(t,p){if(t&1&&(a(0,"div",6)(1,"div",7),r(2),n(),a(3,"p",8),r(4,"Your Lucky Number"),n()()),t&2){let e=u();c(2),_(e.luckyNumber)}}function L(t,p){if(t&1&&(a(0,"div",22)(1,"span",23),r(2),n(),a(3,"span",24),r(4),n()()),t&2){let e=p.$implicit;c(2),s("Juz ",e.index,""),c(2),C("Verse ",e.verse.start.replace("verse_","")," - ",e.verse.end.replace("verse_",""),"")}}function q(t,p){if(t&1){let e=v();a(0,"div",9)(1,"h2",10),r(2),n(),a(3,"h3",11),r(4),n(),a(5,"div",12)(6,"p")(7,"strong"),r(8,"Surah Name:"),n(),r(9),n(),a(10,"p")(11,"strong"),r(12,"Arabic Long:"),n(),r(13),n(),a(14,"p")(15,"strong"),r(16,"Revelation Place:"),n(),r(17),n(),a(18,"p")(19,"strong"),r(20,"Total Ayah:"),n(),r(21),n(),a(22,"p")(23,"strong"),r(24,"Pages:"),n(),r(25),n(),a(26,"p")(27,"strong"),r(28,"Recitation Count:"),n(),r(29),n(),a(30,"div",13)(31,"p",14)(32,"strong"),r(33,"Juz:"),n()(),a(34,"div",15),m(35,L,5,3,"div",16),n()()(),a(36,"div",17)(37,"button",18),g("click",function(){b(e);let o=u();return h(o.skipSurah())}),f(38,"i",19),r(39," Skip "),n(),a(40,"button",20),g("click",function(){b(e);let o=u();return h(o.readSurah())}),f(41,"i",21),r(42," I'll read it "),n()()()}if(t&2){let e=u();c(2),_(e.selectedSurah.surahNameArabic),c(2),C("",e.selectedSurah.title," - ",e.selectedSurah.surahNameTranslation,""),c(5),s(" ",e.selectedSurah.surahName,""),c(4),s(" ",e.selectedSurah.surahNameArabicLong,""),c(4),s(" ",e.selectedSurah.revelationPlace,""),c(4),s(" ",e.selectedSurah.totalAyah,""),c(4),s(" ",e.selectedSurah.pages,""),c(4),s(" ",e.selectedSurah.recitationCount,""),c(6),l("ngForOf",e.selectedSurah.juz)}}var B=(()=>{class t{constructor(e,i){this.quranService=e,this.storageService=i,this.luckyNumber=null,this.selectedSurah=null,this.quranData=[],this.isButtonDisabled=!1}ngOnInit(){this.loadQuranData()}loadQuranData(){this.quranService.fetchAllSurahs().subscribe({next:e=>{this.quranData=e.map(i=>P(M({},i),{recitationCount:this.storageService.getRecitationCount(i.index)}))},error:e=>{console.error("Error loading Quran data:",e)}})}generateLuckyNumber(){this.luckyNumber=this.quranService.generateRandomSurahIndex(),this.selectedSurah=this.quranService.getSurahByIndex(this.quranData,this.luckyNumber),this.selectedSurah&&(this.selectedSurah.recitationCount=this.storageService.getRecitationCount(this.selectedSurah.index)),this.isButtonDisabled=!0}skipSurah(){this.selectedSurah=null,this.luckyNumber=null,this.isButtonDisabled=!1}readSurah(){if(this.selectedSurah){let e=this.selectedSurah.index,i=this.storageService.incrementRecitationCount(e),o=this.quranData.find(O=>O.index===e);o&&(o.recitationCount=i),this.selectedSurah.recitationCount=i,this.skipSurah()}}static{this.\u0275fac=function(i){return new(i||t)(x(N),x(R))}}static{this.\u0275cmp=k({type:t,selectors:[["app-lucky-number"]],standalone:!0,features:[y],decls:7,vars:3,consts:[[1,"lucky-number-section"],[1,"lucky-number-container"],["class","number-display",4,"ngIf"],[1,"lucky-button",3,"click","disabled"],[1,"bi","bi-dice-5-fill"],["class","surah-info",4,"ngIf"],[1,"number-display"],[1,"number-value"],[1,"number-label"],[1,"surah-info"],[1,"surah-title"],[1,"surah-subtitle"],[1,"surah-details"],[1,"juz-section"],[1,"juz-header"],[1,"juz-list"],["class","juz-item",4,"ngFor","ngForOf"],[1,"action-buttons"],[1,"skip-button",3,"click"],[1,"bi","bi-skip-forward-fill"],[1,"read-button",3,"click"],[1,"bi","bi-book-fill"],[1,"juz-item"],[1,"juz-index"],[1,"juz-verse"]],template:function(i,o){i&1&&(a(0,"section",0)(1,"div",1),m(2,D,5,1,"div",2),a(3,"button",3),g("click",function(){return o.generateLuckyNumber()}),f(4,"i",4),r(5," I feel lucky "),n(),m(6,q,43,10,"div",5),n()()),i&2&&(c(2),l("ngIf",o.luckyNumber!==null),c(),l("disabled",o.isButtonDisabled),c(3),l("ngIf",o.selectedSurah))},dependencies:[w,z,I],styles:[".lucky-number-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh;padding:2rem}.lucky-number-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:3rem}.number-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;animation:_ngcontent-%COMP%_fadeInScale .5s ease-out}.number-value[_ngcontent-%COMP%]{font-size:8rem;font-weight:800;color:#fff;text-shadow:0 0 40px rgba(167,139,250,.8),0 0 80px rgba(167,139,250,.6);animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.number-label[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#ffffffe6;text-transform:uppercase;letter-spacing:2px;margin:0}.lucky-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a78bfa,#8b5cf6);border:none;color:#fff;padding:1.5rem 3rem;font-size:1.5rem;font-weight:700;border-radius:3rem;cursor:pointer;display:flex;align-items:center;gap:1rem;transition:all .3s ease;box-shadow:0 8px 32px #a78bfa66;text-transform:uppercase;letter-spacing:1px}.lucky-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b5cf6,#7c3aed);transform:translateY(-4px) scale(1.05);box-shadow:0 12px 48px #a78bfa99}.lucky-button[_ngcontent-%COMP%]:active{transform:translateY(-2px) scale(1.02)}.lucky-button[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#6b7280,#4b5563);cursor:not-allowed;opacity:.6;transform:none;box-shadow:0 4px 16px #6b72804d}.lucky-button[_ngcontent-%COMP%]:disabled:hover{transform:none;box-shadow:0 4px 16px #6b72804d}.lucky-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;animation:_ngcontent-%COMP%_rotate 2s linear infinite}.lucky-button[_ngcontent-%COMP%]:disabled   i[_ngcontent-%COMP%]{animation:none}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.surah-info[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:1.5rem;padding:2rem;max-width:600px;width:100%;animation:_ngcontent-%COMP%_fadeInScale .5s ease-out;box-shadow:0 8px 32px #0000004d}.surah-title[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:#fff;text-align:center;margin:0 0 1rem;text-shadow:0 0 20px rgba(167,139,250,.6)}.surah-subtitle[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#ffffffe6;text-align:center;margin:0 0 2rem;padding-bottom:1.5rem;border-bottom:2px solid rgba(255,255,255,.2)}.surah-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.surah-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffe6;font-size:1rem;margin:0;padding:.5rem;background:#ffffff0d;border-radius:.5rem}.surah-details[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#a78bfa;margin-right:.5rem}.juz-section[_ngcontent-%COMP%]{margin-top:.5rem}.juz-header[_ngcontent-%COMP%]{color:#ffffffe6;font-size:1rem;margin:0 0 .5rem;padding:.5rem;background:#ffffff0d;border-radius:.5rem}.juz-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;padding-left:1rem}.juz-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:.75rem;background:#a78bfa1a;border-left:3px solid #a78bfa;border-radius:.5rem;transition:all .3s ease}.juz-item[_ngcontent-%COMP%]:hover{background:#a78bfa33;transform:translate(5px)}.juz-index[_ngcontent-%COMP%]{color:#a78bfa;font-size:.95rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.juz-verse[_ngcontent-%COMP%]{color:#fffc;font-size:.9rem}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1.5rem;padding-top:1.5rem;border-top:2px solid rgba(255,255,255,.2)}.skip-button[_ngcontent-%COMP%], .read-button[_ngcontent-%COMP%]{flex:1;padding:1rem 2rem;font-size:1.1rem;font-weight:600;border:none;border-radius:1rem;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.5rem;transition:all .3s ease;text-transform:uppercase;letter-spacing:.5px}.skip-button[_ngcontent-%COMP%]{background:#ff6b6b33;border:2px solid #ff6b6b;color:#ff6b6b}.skip-button[_ngcontent-%COMP%]:hover{background:#ff6b6b;color:#fff;transform:translateY(-2px);box-shadow:0 8px 24px #ff6b6b66}.read-button[_ngcontent-%COMP%]{background:#51cf6633;border:2px solid #51cf66;color:#51cf66}.read-button[_ngcontent-%COMP%]:hover{background:#51cf66;color:#fff;transform:translateY(-2px);box-shadow:0 8px 24px #51cf6666}.skip-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .read-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}@media (max-width: 767px){.number-value[_ngcontent-%COMP%]{font-size:5rem}.number-label[_ngcontent-%COMP%]{font-size:1.2rem}.lucky-button[_ngcontent-%COMP%]{padding:1.25rem 2.5rem;font-size:1.25rem}.lucky-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.surah-info[_ngcontent-%COMP%]{padding:1.5rem}.surah-title[_ngcontent-%COMP%]{font-size:2rem}.surah-subtitle[_ngcontent-%COMP%]{font-size:1.2rem}.surah-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.action-buttons[_ngcontent-%COMP%]{gap:.75rem}.skip-button[_ngcontent-%COMP%], .read-button[_ngcontent-%COMP%]{padding:.85rem 1.5rem;font-size:1rem}.juz-list[_ngcontent-%COMP%]{padding-left:.5rem}.juz-item[_ngcontent-%COMP%]{padding:.6rem}.juz-index[_ngcontent-%COMP%]{font-size:.85rem}.juz-verse[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 575px){.number-value[_ngcontent-%COMP%]{font-size:4rem}.number-label[_ngcontent-%COMP%]{font-size:1rem}.lucky-button[_ngcontent-%COMP%]{padding:1rem 2rem;font-size:1.1rem}.surah-info[_ngcontent-%COMP%]{padding:1rem}.surah-title[_ngcontent-%COMP%]{font-size:1.75rem}.surah-subtitle[_ngcontent-%COMP%]{font-size:1rem}.surah-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}.action-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.skip-button[_ngcontent-%COMP%], .read-button[_ngcontent-%COMP%]{padding:.75rem 1.25rem;font-size:.95rem}.skip-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .read-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return t})();export{B as default};
