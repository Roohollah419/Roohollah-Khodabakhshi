<section class="services-section fade-in" aria-labelledby="services-heading">
  <!-- Header -->
  <header class="services-header">
    <h2 id="services-heading" class="text-center services-main-heading">
      <i class="bi bi-gear-wide-connected header-icon" aria-hidden="true"></i>
      {{ content.heading }}
    </h2>
    <p *ngIf="content.subheading" class="text-center services-subheading">
      {{ content.subheading }}
    </p>
  </header>

  <!-- Enhanced Owl Carousel -->
  <div class="services-carousel-container">
    <owl-carousel-o
      [options]="carouselOptions"
      class="services-carousel"
      aria-label="Services showcase carousel">

      <!-- Service Card Template -->
      <ng-template
        carouselSlide
        *ngFor="let service of services; trackBy: trackByService">

        <article
          class="service-card-wrapper"
          [attr.data-category]="service.category">

          <div
            class="card service-card"
            [attr.aria-label]="service.ariaLabel || service.title">

            <!-- Category Badge -->
            <div class="service-category-badge"
                 [style.background-color]="service.categoryColor + '20'"
                 [style.border-color]="service.categoryColor"
                 [style.color]="service.categoryColor">
              <span class="badge-text">{{ service.category }}</span>
              <span *ngIf="service.featured" class="featured-star" aria-label="Featured service">
                <i class="bi bi-star-fill"></i>
              </span>
            </div>

            <!-- Service Icon -->
            <div class="service-icon-wrapper">
              <div class="icon-background"
                   [style.background]="'radial-gradient(circle, ' + service.categoryColor + '20 0%, transparent 70%)'">
                <i
                  [class]="'bi ' + service.icon + ' service-icon'"
                  [style.color]="service.categoryColor"
                  aria-hidden="true"></i>
              </div>
            </div>

            <!-- Service Content -->
            <div class="service-content">
              <!-- Title -->
              <h3 class="service-title">{{ service.title }}</h3>

              <!-- Description -->
              <p class="service-description">{{ service.description }}</p>

              <!-- Technology Pills -->
              <div class="technology-tags">
                <span
                  *ngFor="let tech of service.technologies; trackBy: trackByTechnology"
                  class="tech-pill"
                  [style.border-color]="service.categoryColor + '40'"
                  [attr.aria-label]="'Technology: ' + tech.name">
                  <i *ngIf="tech.icon"
                     [class]="'bi ' + tech.icon + ' tech-icon'"
                     aria-hidden="true"></i>
                  <span class="tech-name">{{ tech.name }}</span>
                </span>
              </div>

              <!-- Service Level Badge -->
              <div class="service-level-badge">
                <span
                  class="level-badge"
                  [style.background-color]="service.categoryColor + '15'"
                  [style.color]="service.categoryColor">
                  {{ service.level }}
                </span>
              </div>
            </div>

            <!-- Hover Effect Overlay -->
            <div class="card-shine-effect" aria-hidden="true"></div>
          </div>
        </article>
      </ng-template>
    </owl-carousel-o>
  </div>

  <!-- Navigation Hint -->
  <div class="carousel-navigation-hint" role="status" aria-live="polite">
    <p class="hint-text">
      <i class="bi bi-arrow-left-right"></i>
      Drag or use navigation arrows to explore all services
    </p>
  </div>
</section>
